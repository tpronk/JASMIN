<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: TableLogger.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: TableLogger.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>//Copyright 2014, Thomas Pronk
//
//Licensed under the Apache License, Version 2.0 (the "License");
//you may not use this file except in compliance with the License.
//You may obtain a copy of the License at
//
//http://www.apache.org/licenses/LICENSE-2.0
//
//Unless required by applicable law or agreed to in writing, software
//distributed under the License is distributed on an "AS IS" BASIS,
//WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
//See the License for the specific language governing permissions and
//limitations under the License. 


/** 
 * Init JASMIN namespace
 * @private
 */
if( jasmin === undefined ) { var jasmin = function() {}; }

/** 
 * TableLogger logs data in a a table format with named variables as columns
 * and unnamed rows
 * @param {array}    columns   Array of Strings; these are the varable names used for each column
 * @param {Function} fail      If defined, this function is called whenever trying to add logs with columns that were predefined via the previous argument
 * @param {Object}   na        A value to represent the absence of a value when logs are retrieved in indexed format. Default = null
 * @constructor
 */
jasmin.TableLogger = function( columns, fail, na )
{
    this.columns = columns;
    this.fail    = fail;
    this.na      = na;
    
    this.clearLogs();
};

/** 
 * Clear all rows from  logs (but not columns)
 * @public
 */
jasmin.TableLogger.prototype.clearLogs = function()
{
    this.logs = [];
};

/** 
 * Log a row of data 
 * @param   {Object}  logMe   Associative array in which keys identify columns and values are the values to log this row
 * @public
 */
jasmin.TableLogger.prototype.log = function( logMe )
{
    // If fail defined, check columns
    if( this.fail !== undefined ) {
        for( var column in logMe ) {
            if( this.columns.indexOf( column ) === -1 ) {
                this.fail( "TableLogger.log: Column " + column + " in logMe not found in this.columns" );
            }
        }
    }

    // Add logMe to logs
    this.logs.push( logMe );
};

/** 
 * Get logs in associative or indexed format
 * @param   {boolean} associative  If true, each row in the logs returned is an associative array of the form column => value. If false, each row is an indexed array (with missing value filled in with this.na), the first row containing column names
 * @public
 */
jasmin.TableLogger.prototype.getLogs = function( associative )
{
    if( associative ) {
        return this.logs;
    }
    
    // Still here, then setup indexed
    var result = [], i, row, value;
    
    // Add column names
    row = [];
    for( var i = 0; i &lt; this.columns.length; i++ ) {
        row.push( this.columns[i] );
    }
    result.push( row );
    
    // Add rows
    for( var j = 0; j &lt; this.logs.length; j++ ) {
        // Construct each row
        row = [];
        for( var i = 0; i &lt; this.columns.length; i++ ) {
            // Get right value, if undefined store this.na instead of value
            value = this.logs[j][ this.columns[i] ];
            row.push( value === undefined? this.na : value );
        }
        result.push( row );
    }
    
    return result;
};
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Classes</h3><ul><li><a href="jasmin.EventManager.html">EventManager</a></li><li><a href="jasmin.Loader.html">Loader</a></li><li><a href="jasmin.RequestManager.html">RequestManager</a></li><li><a href="jasmin.ResponseManager.html">ResponseManager</a></li><li><a href="jasmin.ScalableCanvas.html">ScalableCanvas</a></li><li><a href="jasmin.Slideshow.html">Slideshow</a></li><li><a href="jasmin.Statistics.html">Statistics</a></li><li><a href="jasmin.SyncTimer.html">SyncTimer</a></li><li><a href="jasmin.TableLogger.html">TableLogger</a></li><li><a href="jasmin.Translator.html">Translator</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-dev</a> on Fri Oct 10 2014 01:14:45 GMT+0200 (CEST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
