<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"> 
<!--
Copyright 2014, Thomas Pronk

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License. 

****************
*** RUNME.html

First shows a dropdown from which to pick a demo, then starts load this demo
(by calling the load function that each demo should provide). Additionally, this
page provides a simple container to run the module demos in:
* It loads jQuery and jquery mobile CSS in the head
* A pre element with id "textHere" for text output and a div with id "graphicsHere" for graphic output
-->
<html>
    <head>
        <title></title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <!-- jQuery mobile structure (needed for jquery mobile) -->
        <link rel="stylesheet" type="text/css" href="../../../jasmin_ext/jquery.mobile.structure.css" />
        <!-- jQuery & jQquery mobile -->
        <script type="text/javascript" src="../../../jasmin_ext/jquery.js"></script>        
        <script type="text/javascript" src="../../../jasmin_ext/jquery.mobile.js"></script>
        <!-- JASMIN -->
        <script type="text/javascript" src="ScalableCanvas.js"></script>
        <!-- custom script -->
        <script type="text/javascript">
            urlParam = function(name){
                var results = new RegExp('[\?&]' + name + '=([^&#]*)').exec(window.location.href);
                if (results==null){
                   return null;
                }
                else{
                   return results[1] || 0;
                }
            }            
            $( document ).ready( function() { 
                // Construct canvas
                var canvas      = new jasmin.ScalableCanvas( 
                    $( "#graphics_here" ),  // container div; note though that canvas scales to the window
                    1.6                     // aspectRatio (x/y). A value of 1.6 gives this range of coordinates: x[0:1.6] and y[0:1]
                    // rescaleInterval (number of ms between checking rescaling), 1000 by default
                );
            
                var spritesJSON = JSON.parse( decodeURIComponent( urlParam( "sprites" ) ) );

                // Construct sprites
                var sprites = canvas.spritesFromJSON( spritesJSON[ "TaskSpritesJSON" ] );
    console.log( JSON.stringify( sprites ) );    
                // Add sprites to canvas
                canvas.addSprites( sprites );
   
                // Start rescaling
                canvas.start();                   
            } );
            
            
        </script>
    </head>
<body>
<form action="RUNME.html" id="form_here"></form>
<div id="graphics_here"></div>
<pre id="text_here"></pre>
</body>
</html>