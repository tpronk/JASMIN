function EventManager(a){this.responseManager=new ResponseManager(a);this.syncTimer=new SyncTimer;this.callbackDone=void 0}EventManager.prototype.sync=function(a){this.syncTimer.sync(function(){a()})};
EventManager.prototype.startEvent=function(a,e,f,c,d){this.clearLoggingVars();this.timeout=a;this.callbackDraw=e;this.callbackDone=f;this.activeResponses=c;this.name=void 0===d?"noname":d;var b=this;this.responseManager.activate(c,function(){b.endEvent("response")},this.name);this.syncTimer.setTimeout(a,function(){b.callbackDraw()},function(){b.endEvent("timeout")},this.name)};
EventManager.prototype.endEvent=function(a){this.responseManager.deactivate();"timeout"!==a&&this.syncTimer.cancelTimeout();"response"===a&&(this.rt=this.responseManager.time-this.syncTimer.timeShown);this.endReason=a;this.updateEventLog();"cancel"!==a&&this.callbackDone()};EventManager.prototype.cancelEvent=function(){this.endEvent("cancel")};EventManager.prototype.updateEventLog=function(){this.eventLog={name:this.name,rt:this.rt,endReason:this.endReason}};EventManager.prototype.getEventLog=function(){return this.eventLog};
EventManager.prototype.clearLoggingVars=function(){this.endReason=this.rt=this.name=void 0};
